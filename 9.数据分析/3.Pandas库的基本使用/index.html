<!DOCTYPE html>
<html lang="en">
<head>
  
  
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    
    <link rel="canonical" href="http://www.haoqihan.top/9.数据分析/3.Pandas库的基本使用/">
    <link rel="shortcut icon" href="../../img/favicon.ico">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
    <title>pandas库 - 学习笔记</title>
    <link href="../../css/bootstrap-3.3.7.min.css" rel="stylesheet">
    <link href="../../css/font-awesome-4.7.0.css" rel="stylesheet">
    <link href="../../css/base.css" rel="stylesheet">
    <link rel="stylesheet" href="../../css/highlight.css">
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->

    <script src="../../js/jquery-3.2.1.min.js"></script>
    <script src="../../js/bootstrap-3.3.7.min.js"></script>
    <script src="../../js/highlight.pack.js"></script>
    
    <base target="_top">
    <script>
      var base_url = '../..';
      var is_top_frame = false;
        
        var pageToc = [
          {title: "Pandas\u5e93\u7684\u57fa\u672c\u4ecb\u7ecd", url: "#_top", children: [
          ]},
          {title: "Series\u7c7b\u578b", url: "#series", children: [
          ]},
          {title: "Series\u7c7b\u578b\u7684\u57fa\u672c\u64cd\u4f5c", url: "#series_1", children: [
          ]},
          {title: "DataFrame\u7c7b\u578b", url: "#dataframe", children: [
          ]},
          {title: "pandas\u7684\u6570\u636e\u7c7b\u578b\u64cd\u4f5c", url: "#pandas_1", children: [
          ]},
          {title: "\u7b97\u6570\u8fd0\u7b97\u6cd5\u5219", url: "#_1", children: [
          ]},
          {title: "\u6570\u636e\u7684\u6392\u5e8f", url: "#_2", children: [
          ]},
          {title: "\u6570\u636e\u7684\u57fa\u672c\u7edf\u8ba1\u548c\u5206\u6790\u51fd\u6570", url: "#_3", children: [
          ]},
          {title: "\u6570\u636e\u7684\u7d2f\u8ba1\u7edf\u8ba1\u5206\u6790", url: "#_4", children: [
          ]},
        ];

    </script>
    <script src="../../js/base.js"></script> 
</head>

<body>
<script>
if (is_top_frame) { $('body').addClass('wm-top-page'); }
</script>



<div class="container-fluid wm-page-content">
  <a name="_top"></a>
    

  <div class="row wm-article-nav-buttons" role="navigation" aria-label="navigation">
    
    <div class="wm-article-nav pull-right">
      <a href="奇技淫巧/1.vim的使用笔记/" class="btn btn-xs btn-default pull-right">
        Next
        <i class="fa fa-chevron-right" aria-hidden="true"></i>
      </a>
      <a href="奇技淫巧/1.vim的使用笔记/" class="btn btn-xs btn-link">
        vim的使用
      </a>
    </div>
    
    <div class="wm-article-nav">
      <a href="9.数据分析/2.matplotlib库/" class="btn btn-xs btn-default pull-left">
        <i class="fa fa-chevron-left" aria-hidden="true"></i>
        Previous</a><a href="9.数据分析/2.matplotlib库/" class="btn btn-xs btn-link">
        matplotlib库
      </a>
    </div>
    
  </div>

    

    <h3 id="pandas"><strong>Pandas库的基本介绍</strong></h3>
<p>Pandas是python第三方库,提供高性能易用数据类型和分析工具</p>
<ul>
<li>两个数据类型:Series 和 DataFrame</li>
<li>基本操作,运算操作,特征类操作,关联类操作</li>
</ul>
<pre><code>import pandas as pd
d = pd.Series(range(20))
d.cumsum()
</code></pre>

<h3 id="series">Series类型</h3>
<p>Series类型由一组数据及与之相关的数据索引组成</p>
<p>Series类型由如下类型创建</p>
<ul>
<li>python列表</li>
<li>标量值</li>
<li>python字典</li>
<li>ndarray</li>
<li>其他函数</li>
</ul>
<pre><code>import numpy as np
b = pd.Series(2,index=['a','b','c','d'])
c = pd.Series({'a':1,'b':2})
d = pd.Series({'a':1,'b':2,'c':3},index=['c','a','b','d'])
e = pd.Series(np.arange(4))
f = pd.Series(np.arange(5),index=np.arange(9,4,-1))
</code></pre>

<h3 id="series_1">Series类型的基本操作</h3>
<pre><code>import pandas as pd
b = pd.Series([9,8,7,6],index=['a','b','c','d'])
b.index
b.values
b['b']
b[1]
b[[1,2]]
b[:3]
b[b&gt;b.median()]
np.exp(b)
b.get('d')
b.name = '对象'
b.index.name='索引对象'
</code></pre>

<h3 id="dataframe">DataFrame类型</h3>
<p><strong>DataFrame类型由共用相同索引的一组列组成:是一个二维的带标签的数组</strong></p>
<pre><code>d = pd.DataFrame(np.arange(10).reshape(2,5))
dt = {'one':pd.Series([1,2,3,4],index=['a','b','c','d']),'two':pd.Series([6,7,8,9],index=['a','b','c','d'])}
pd.DataFrame(dt,index=['b','c','d'])
d1 = {'one':[1,2,3,4],'two':[6,7,8,9]}
pd.DataFrame(d1,index=['a','b','c','d'],columns=['one'])
d[0] # 获取列
d.ix[0] # 获取行
d[1][1]
</code></pre>

<h3 id="pandas_1">pandas的数据类型操作</h3>
<p>增加或重排:重新索引 删除:drop</p>
<p>重新索引: .reindex()能够改变或重拍Series和DataFrame</p>
<table>
<thead>
<tr>
<th align="left">参数</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">index,columns</td>
<td>新的行列自定义索引</td>
</tr>
<tr>
<td align="left">fill_value</td>
<td>重新索引中,用于填充缺失位置的值</td>
</tr>
<tr>
<td align="left">method</td>
<td>填充方法,ffill当前值向前填充,bfill向后填充</td>
</tr>
<tr>
<td align="left">limit</td>
<td>最大填充量</td>
</tr>
<tr>
<td align="left">copy</td>
<td>默认True,生成新的对象,False时,新旧想等不复制</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>方法</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>.append(idx)</td>
<td>连接另一个Index对象,产生新的index对象</td>
</tr>
<tr>
<td>diff(idx)</td>
<td>计算差集,产生一个新的index对象</td>
</tr>
<tr>
<td>intersection(idx)</td>
<td>计算交集</td>
</tr>
<tr>
<td>.union(idx)</td>
<td>计算并集</td>
</tr>
<tr>
<td>delete(loc)</td>
<td>删除loc位置的元素</td>
</tr>
<tr>
<td>insert(loc,e)</td>
<td>在loc位置增加一个元素</td>
</tr>
</tbody>
</table>
<h3 id="_1">算数运算法则</h3>
<p>算数运算根据行列索引,补齐后运算,运算默认产生浮点数</p>
<p>补齐时缺项填充NaN</p>
<p>二维和一维和零维间为广播运算</p>
<p>采用+-* /符号进行的二元运算产生新的对象</p>
<p>方法形式的运算</p>
<table>
<thead>
<tr>
<th>方法</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>.add(d,)</td>
<td>类型间加法运算,可选参数</td>
</tr>
<tr>
<td>.sub(d,)</td>
<td>类型间减法运算,可选参数</td>
</tr>
<tr>
<td>.mul(d,)</td>
<td>类型间乘法运算,可选参数</td>
</tr>
<tr>
<td>.div(d,)</td>
<td>类型间除法运算,可选参数</td>
</tr>
</tbody>
</table>
<h3 id="_2">数据的排序</h3>
<ul>
<li>.sort_index()方法在指定轴上根据索引进行排序,默认是升序</li>
<li>.sort_index(axis=0,ascending=True</li>
<li>.sort_values()方法在指定轴根据数值进行排序,默认升序</li>
<li>Series.sort_values(axis=0,ascending=True)</li>
<li>DataFrame.sort_values(by,axis=0,ascending=True)<ul>
<li>by:axis轴上的某个索引或索引列表</li>
</ul>
</li>
</ul>
<pre><code>import pandas as pd
import numpy as np
b = pd.DataFrame(np.arange(20).reshape(4,5),index=['c','a','d','b'])
b.sort_index(axis=1,ascending=False)
</code></pre>

<h3 id="_3">数据的基本统计和分析函数</h3>
<table>
<thead>
<tr>
<th>方法</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>sum()</td>
<td>计算数据的总和,按0轴计算</td>
</tr>
<tr>
<td>count()</td>
<td>非NaN值的数量</td>
</tr>
<tr>
<td>.mean().median()</td>
<td>计算数据的算数平均值,算数中位数</td>
</tr>
<tr>
<td>.var(),.std()</td>
<td>计算数据的方差,标准差</td>
</tr>
<tr>
<td>.min() .max()</td>
<td>计算数据的最小值,最大值</td>
</tr>
<tr>
<td><strong>适用于Series类型</strong></td>
<td></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>方法</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>.argmin().argmax()</td>
<td>计算数据最大值,最小值所在位置的索引位置(自动索引)</td>
</tr>
<tr>
<td>.idxmin().idxmax()</td>
<td>计算数据最大值,最小值所在位置的索引(自定义索引)</td>
</tr>
<tr>
<td><strong>针对全部的</strong></td>
<td></td>
</tr>
</tbody>
</table>
<p><strong>describe():针对0轴(各列)的统计汇总</strong></p>
<h3 id="_4">数据的累计统计分析</h3>
<table>
<thead>
<tr>
<th>方法</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>cumsum()</td>
<td>依次给出前1,2,3,4...n个数的和</td>
</tr>
<tr>
<td>cumprod()</td>
<td>依次给出前1,2,3,4...n个数的积</td>
</tr>
<tr>
<td>cummax()</td>
<td>依次给出前1,2,3,.,5...n个数的最大值</td>
</tr>
<tr>
<td>cummin()</td>
<td>依次给出前1,2,3,.,5...n个数的最小值</td>
</tr>
</tbody>
</table>
<p><strong>适用于Series和DataFrame类型,滚动计算(窗口计算)</strong></p>
<table>
<thead>
<tr>
<th>方法</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>rolling(w).sum</td>
<td>依次计算相邻w个元素的和</td>
</tr>
<tr>
<td>.rolling(w).mean()</td>
<td>依次计算相邻w个元素的算数平均值</td>
</tr>
<tr>
<td>.rolling(w).var()</td>
<td>依次计算相邻w个元素的方差</td>
</tr>
<tr>
<td>.rolling(w).std()</td>
<td>依次计算相邻w个元素的标准差</td>
</tr>
<tr>
<td>.rolling(w).min().max()</td>
<td>依次计算相邻w个元素的最小值和最大值</td>
</tr>
</tbody>
</table>
<p><strong>数据的相关分析</strong>
两个事物,表示为x和y,如何判断他们之间的存在相关性?</p>
<p><strong>相关性</strong>
x增大,y增大,两个变量正相关<br />
x增大,y减小,两个变量负相关<br />
x增大,y无视,两个变量不相关</p>
<p>.cov():计算协方差矩阵<br />
.corr() 计算相关系数矩阵,Pearson,Spearman,Kendall等系数</p>
<p>query():筛选条件</p>

  <br>
    

  <div class="row wm-article-nav-buttons" role="navigation" aria-label="navigation">
    
    <div class="wm-article-nav pull-right">
      <a href="奇技淫巧/1.vim的使用笔记/" class="btn btn-xs btn-default pull-right">
        Next
        <i class="fa fa-chevron-right" aria-hidden="true"></i>
      </a>
      <a href="奇技淫巧/1.vim的使用笔记/" class="btn btn-xs btn-link">
        vim的使用
      </a>
    </div>
    
    <div class="wm-article-nav">
      <a href="9.数据分析/2.matplotlib库/" class="btn btn-xs btn-default pull-left">
        <i class="fa fa-chevron-left" aria-hidden="true"></i>
        Previous</a><a href="9.数据分析/2.matplotlib库/" class="btn btn-xs btn-link">
        matplotlib库
      </a>
    </div>
    
  </div>

    <br>
</div>

<footer class="col-md-12 wm-page-content">
      <p>
        <a href="https://github.com/haoqihan/learning/edit/master/docs/9.数据分析/3.Pandas库的基本使用.md"><i class="fa fa-github"></i>
Edit on GitHub</a>
      </p>
  <p>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a> using <a href="https://github.com/gristlabs/mkdocs-windmill">Windmill</a> theme by Grist Labs.</p>
</footer>

</body>
</html>