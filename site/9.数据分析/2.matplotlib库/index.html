<!DOCTYPE html>
<html lang="en">
<head>
  
  
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    
    <link rel="canonical" href="http://www.haoqihan.top/9.数据分析/2.matplotlib库/">
    <link rel="shortcut icon" href="../../img/favicon.ico">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
    <title>matplotlib库 - 学习笔记</title>
    <link href="../../css/bootstrap-3.3.7.min.css" rel="stylesheet">
    <link href="../../css/font-awesome-4.7.0.css" rel="stylesheet">
    <link href="../../css/base.css" rel="stylesheet">
    <link rel="stylesheet" href="../../css/highlight.css">
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->

    <script src="../../js/jquery-3.2.1.min.js"></script>
    <script src="../../js/bootstrap-3.3.7.min.js"></script>
    <script src="../../js/highlight.pack.js"></script>
    
    <base target="_top">
    <script>
      var base_url = '../..';
      var is_top_frame = false;
        
        var pageToc = [
          {title: "Matplotlib\u5e93\u7684\u4f7f\u7528", url: "#_top", children: [
          ]},
          {title: "pyplot\u7684\u7ed8\u56fe\u533a\u57df", url: "#pyplot", children: [
          ]},
          {title: "pyplot\u7684\u4e2d\u6587\u663e\u793a", url: "#pyplot_1", children: [
          ]},
          {title: "pyplot\u7684\u6587\u672c\u663e\u793a", url: "#pyplot_2", children: [
          ]},
          {title: "pyplot\u7684\u57fa\u7840\u56fe\u6807\u51fd\u6570", url: "#pyplot_3", children: [
          ]},
          {title: "pyplot\u997c\u56fe\u7684\u7ed8\u5236", url: "#pyplot_4", children: [
          ]},
          {title: "pyplot\u76f4\u65b9\u56fe\u7684\u7ed8\u5236", url: "#pyplot_5", children: [
          ]},
          {title: "\u9762\u5bf9\u5bf9\u8c61\u7ed8\u5236\u6781\u5750\u6807", url: "#_1", children: [
          ]},
          {title: "\u9762\u5bf9\u5bf9\u8c61\u7ed8\u5236\u6563\u70b9\u56fe", url: "#_2", children: [
          ]},
          {title: "\u5f15\u529b\u6ce2\u7684\u7ed8\u5236", url: "#_3", children: [
          ]},
        ];

    </script>
    <script src="../../js/base.js"></script> 
</head>

<body>
<script>
if (is_top_frame) { $('body').addClass('wm-top-page'); }
</script>



<div class="container-fluid wm-page-content">
  <a name="_top"></a>
    

  <div class="row wm-article-nav-buttons" role="navigation" aria-label="navigation">
    
    <div class="wm-article-nav pull-right">
      <a href="9.数据分析/3.Pandas库的基本使用/" class="btn btn-xs btn-default pull-right">
        Next
        <i class="fa fa-chevron-right" aria-hidden="true"></i>
      </a>
      <a href="9.数据分析/3.Pandas库的基本使用/" class="btn btn-xs btn-link">
        pandas库
      </a>
    </div>
    
    <div class="wm-article-nav">
      <a href="9.数据分析/1.numpy模块/" class="btn btn-xs btn-default pull-left">
        <i class="fa fa-chevron-left" aria-hidden="true"></i>
        Previous</a><a href="9.数据分析/1.numpy模块/" class="btn btn-xs btn-link">
        numpy模块
      </a>
    </div>
    
  </div>

    

    <h3 id="matplotlib">Matplotlib库的使用</h3>
<ul>
<li>Matplotlib库由各种可视化类构成,内部结构复杂,受Matlab启发</li>
<li>matplotlib.pyplot是绘制各类可视化图形的命令子库,相当于快捷方式</li>
</ul>
<pre><code class="python">import matplotlib.pyplot as plt
plt.plot([1,2,3,2,4,3])
plt.ylabel('grade')
plt.savefig('test',dpi=600)  # png文件:将输出图像存储为文件,默认PNG格式,可以通过修改dpi修改输出质量
plt.show()
</code></pre>

<pre><code class="python">import matplotlib.pyplot as plt
plt.plot([0,2,4,6,8],[3,1,4,5,2]) # 会按照x和y轴绘制
plt.ylabel('grade')
plt.axis([-1,10,0,6])  # 设置x轴和y轴的长度
plt.show()
</code></pre>

<h3 id="pyplot">pyplot的绘图区域</h3>
<ul>
<li>plt.subplot(nrows,ncols,plot_number) # 行 列 在哪个区域</li>
<li>plt.subplot(3,2,4)</li>
</ul>
<pre><code class="python">import numpy as np
import matplotlib.pyplot as plt
def f(t):
    return np.exp(-t) * np.cos(2*np.pi*t)
a = np.arange(0.0,5.0,0.02)

plt.subplot(211)
plt.plot(a,f(a))

plt.subplot(2,1,2)
plt.plot(a,np.cos(2*np.pi*a),'r--')
plt.show()
</code></pre>

<p><strong>plt.plot(x,y,format_string,</strong>keargs)**</p>
<ul>
<li>x:X轴数据,列表或数组,可选</li>
<li>y:Y轴数据,列表或数组</li>
<li>format_string:控制曲线的格式字符串,可选</li>
<li>** kwargs:第二组或更多(x,yformat_string)</li>
</ul>
<p>当绘制多条曲线时,各条曲线的x不能省略 </p>
<p><strong>format_string:控制曲线的格式字符串,可选由颜色字符,风格字符和标记字符组成</strong></p>
<table>
<thead>
<tr>
<th align="center">颜色字符</th>
<th align="center">说明</th>
<th align="center">颜色字符</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">b</td>
<td align="center">蓝色</td>
<td align="center">m</td>
</tr>
<tr>
<td align="center">'g'</td>
<td align="center">绿色</td>
<td align="center">'y'</td>
</tr>
<tr>
<td align="center">'r'</td>
<td align="center">红色</td>
<td align="center">'k'</td>
</tr>
<tr>
<td align="center">'c'</td>
<td align="center">青绿色</td>
<td align="center">'w'</td>
</tr>
<tr>
<td align="center">#008000</td>
<td align="center">RGB某颜色</td>
<td align="center">'0.8'</td>
</tr>
</tbody>
</table>
<p><strong>风格字符</strong></p>
<table>
<thead>
<tr>
<th align="center">风格字符</th>
<th align="center">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">-</td>
<td align="center">实线</td>
</tr>
<tr>
<td align="center">- -</td>
<td align="center">破折号</td>
</tr>
<tr>
<td align="center">- .</td>
<td align="center">点划线</td>
</tr>
<tr>
<td align="center">:</td>
<td align="center">虚线</td>
</tr>
<tr>
<td align="center">""""</td>
<td align="center">无线条</td>
</tr>
</tbody>
</table>
<p><strong>标记字符</strong></p>
<table>
<thead>
<tr>
<th align="center">标记字符</th>
<th align="center">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">.</td>
<td align="center">点标记</td>
</tr>
<tr>
<td align="center">,</td>
<td align="center">像素标记(极小点)</td>
</tr>
<tr>
<td align="center">o</td>
<td align="center">实心圈标记</td>
</tr>
<tr>
<td align="center">v</td>
<td align="center">倒三角标记</td>
</tr>
<tr>
<td align="center">^</td>
<td align="center">上三角标记</td>
</tr>
<tr>
<td align="center">&gt;</td>
<td align="center">右三角标记</td>
</tr>
<tr>
<td align="center">&lt;</td>
<td align="center">左三角标记</td>
</tr>
<tr>
<td align="center">1</td>
<td align="center">下花三角标记</td>
</tr>
<tr>
<td align="center">2</td>
<td align="center">上花三角标记</td>
</tr>
<tr>
<td align="center">3</td>
<td align="center">左花三角标记</td>
</tr>
<tr>
<td align="center">4</td>
<td align="center">右花三角标记</td>
</tr>
<tr>
<td align="center">s</td>
<td align="center">实心方形标记</td>
</tr>
<tr>
<td align="center">p</td>
<td align="center">实心五角标记</td>
</tr>
<tr>
<td align="center">*</td>
<td align="center">星型标记</td>
</tr>
<tr>
<td align="center">h</td>
<td align="center">竖六边形标记</td>
</tr>
<tr>
<td align="center">H</td>
<td align="center">横六边形标记</td>
</tr>
<tr>
<td align="center">+</td>
<td align="center">十字标记</td>
</tr>
<tr>
<td align="center">x</td>
<td align="center">x标记</td>
</tr>
<tr>
<td align="center">D</td>
<td align="center">菱形标记</td>
</tr>
<tr>
<td align="center">d</td>
<td align="center">瘦菱形标记</td>
</tr>
<tr>
<td align="center">|</td>
<td align="center">垂直线标记</td>
</tr>
</tbody>
</table>
<ul>
<li>color:控制颜色  </li>
<li>linestyle:线条风格,  </li>
<li>marker:标记风格  </li>
<li>markerfacecolor:标记颜色  </li>
<li>markersize:标记尺寸 </li>
</ul>
<pre><code>import matplotlib.pyplot as plt
import numpy as np
a = np.arange(10)
plt.plot(a,a*1.5,a,a*2.5,a,a*3.5,a,a*4.5)
plt.show()
</code></pre>

<pre><code>import matplotlib.pyplot as plt
import numpy as np
a = np.arange(10)
plt.plot(a,a*1.5,'go-',a,a*2.5,'rx',a,a*3.5,'*',a,a*4.5,&quot;b-&quot;)
plt.show()
</code></pre>

<h3 id="pyplot_1">pyplot的中文显示</h3>
<p><strong>第一种:</strong>pyplot并不默认支持中文显示,需要reParams修改字体实现</p>
<table>
<thead>
<tr>
<th align="center">属性</th>
<th align="center">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">'font.family'</td>
<td align="center">用于显示字体的名字</td>
</tr>
<tr>
<td align="center">'font.style'</td>
<td align="center">字体风格,正常normal或斜体italic</td>
</tr>
<tr>
<td align="center">'font.size'</td>
<td align="center">字体大小,整数字号或large,x-small</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>中文字体</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>'SimHei'</td>
<td>中文黑体</td>
</tr>
<tr>
<td>'Kaiti'</td>
<td>中文楷体</td>
</tr>
<tr>
<td>'LiSu'</td>
<td>中文隶书</td>
</tr>
<tr>
<td>'FangSong'</td>
<td>中文仿宋</td>
</tr>
<tr>
<td>'YouYuan'</td>
<td>中文幼圆</td>
</tr>
<tr>
<td>'STSong'</td>
<td>华文宋体</td>
</tr>
</tbody>
</table>
<p><strong>第二种</strong>:在有中文输出的地方,增加一个属性:fontproperties</p>
<pre><code>import matplotlib.pyplot as plt
import matplotlib
matplotlib.rcParams['font.family'] = 'SimHei'
plt.plot([3,1,4,5,2])
plt.ylabel('纵轴值')
plt.xlabel('横轴值')
plt.savefig('test',dpi=600)
plt.show()
</code></pre>

<h3 id="pyplot_2">pyplot的文本显示</h3>
<table>
<thead>
<tr>
<th align="center">函数</th>
<th align="center">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">plt.xlabel()</td>
<td align="center">对x轴增加文本标签</td>
</tr>
<tr>
<td align="center">plt.ylabel()</td>
<td align="center">对Y轴增加文本标签</td>
</tr>
<tr>
<td align="center">plt.title()</td>
<td align="center">对圆形整体增加文本标签</td>
</tr>
<tr>
<td align="center">plt.text()</td>
<td align="center">在任意位置增加文本</td>
</tr>
<tr>
<td align="center">plt.annotate()</td>
<td align="center">在图形中增加带箭头的注解</td>
</tr>
</tbody>
</table>
<pre><code>import numpy as np
import matplotlib.pyplot as plt
a = np.arange(0.0,5.0,0.02)
plt.plot(a,np.cos(2*np.pi*a),'r--')

plt.xlabel('横轴:时间',fontproperties='SimHei',fontsize=15,color='green')
plt.ylabel('纵轴:振幅',fontproperties='SimHei',fontsize=15)
plt.title(r'正弦波实例 $y=cos(2\pi x)$',fontproperties='SimHei',fontsize=25)
plt.text(2,1,r'$\mu=100$',fontsize=15)

plt.axis([-1,6,-2,2])
plt.grid(True)  # 添加网格
plt.show()
</code></pre>

<p><strong>plt.annotate(s,xy=arrow_crd,xytext=text_crd,arrowprops=dict)</strong></p>
<pre><code class="python">import numpy as np
import matplotlib.pyplot as plt
a = np.arange(0.0,5.0,0.02)
plt.plot(a,np.cos(2*np.pi*a),'r--')

plt.xlabel('横轴:时间',fontproperties='SimHei',fontsize=15,color='green')
plt.ylabel('纵轴:振幅',fontproperties='SimHei',fontsize=15)
plt.title(r'正弦波实例 $y=cos(2\pi x)$',fontproperties='SimHei',fontsize=25)
plt.annotate(r'$\mu=100$',xy=(2,1),xytext=(3,1.5),arrowprops=dict(facecolor='black',shrink=0.1,width=2))

plt.axis([-1,6,-2,2])
plt.grid(True)  # 添加网格
plt.show()
</code></pre>

<p><strong>pyplot的子绘图区域</strong></p>
<p><strong>plt.subplot2grid()</strong></p>
<ul>
<li>plt.subplot2grid(GridSpec,CurSpec,colspan=1,rowspan=1)</li>
<li>理念:设定网格,选中网格,确定选中行列区域数量,编号从0开始</li>
</ul>
<pre><code>import matplotlib.gridspec as gridspec
gs = gridspec.GridSpec(3,3)
</code></pre>

<pre><code>import matplotlib.gridspec as gridspec
import matplotlib.pyplot as plt
gs = gridspec.GridSpec(3,3)
ax1 = plt.subplot(gs[0,:])
ax2 = plt.subplot(gs[1,:-1])
ax3 = plt.subplot(gs[1:-1])
ax4 = plt.subplot(gs[2,0])
ax5 = plt.subplot(gs[2,1])
</code></pre>

<h3 id="pyplot_3">pyplot的基础图标函数</h3>
<table>
<thead>
<tr>
<th align="left">函数</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">plt.plot(x,y,fmt..)</td>
<td>绘制一个坐标图</td>
</tr>
<tr>
<td align="left">plt.boxplot(data,notch,position)</td>
<td>绘制一个箱形图</td>
</tr>
<tr>
<td align="left">plt.bar(left,hight,width,bottom)</td>
<td>绘制一个条形图</td>
</tr>
<tr>
<td align="left">plt.barh(width,bottom,left,height)</td>
<td>绘制一个横向条形图</td>
</tr>
<tr>
<td align="left">plt.polar(theta,r)</td>
<td>绘制极坐标图</td>
</tr>
<tr>
<td align="left">plt.pie(data,explode)</td>
<td>绘制饼图</td>
</tr>
<tr>
<td align="left">plt.psd(x,NFFT=256,pad_to,Fs)</td>
<td>绘制功率密度图</td>
</tr>
<tr>
<td align="left">plt.specgram(x,NFFT=256,pad_to,F)</td>
<td>绘制谱图</td>
</tr>
<tr>
<td align="left">plt.cohere(x,y,NFFT=256,Fs)</td>
<td>绘制X-Y的相关性函数</td>
</tr>
<tr>
<td align="left">plt.scatter(x,y)</td>
<td>绘制散点图,其中,x和y长度相同</td>
</tr>
<tr>
<td align="left">plt.step(x,y,where)</td>
<td>绘制步阶图</td>
</tr>
<tr>
<td align="left">plt.hist(x,bins,normed)</td>
<td>绘制直方图</td>
</tr>
<tr>
<td align="left">plt.contour(X,Y,Z,N)</td>
<td>绘制等值图</td>
</tr>
<tr>
<td align="left">plt.vlines()</td>
<td>绘制垂直图</td>
</tr>
<tr>
<td align="left">plt.stem(x,y,linefmt,markerfmt)</td>
<td>绘制柴火图</td>
</tr>
<tr>
<td align="left">plt.plot_date()</td>
<td>绘制数据日期</td>
</tr>
</tbody>
</table>
<h3 id="pyplot_4">pyplot饼图的绘制</h3>
<pre><code class="python">import matplotlib.pyplot as plt
labels = 'Frogs','Hogs','Dogs','Logs'
sizes = [15,30,45,10]
explode = (0,0.1,0,0)
plt.pie(sizes,explode=explode,labels=labels,autopct='%1.1f%%',shadow=False,startangle=90)
plt.axis('equal')
plt.show()
</code></pre>

<h3 id="pyplot_5">pyplot直方图的绘制</h3>
<pre><code class="python">import numpy as np
import matplotlib.pyplot as plt

np.random.seed(0)
mu,sigma = 100,20   # 均值和标准差
a = np.random.normal(mu,sigma,size=100)

plt.hist(a,40,normed=1,histtype='stepfilled',facecolor='b',alpha=0.75)
plt.title('Histogram')
plt.show()
</code></pre>

<h3 id="_1">面对对象绘制极坐标</h3>
<pre><code class="python">import numpy as np
import matplotlib .pyplot as plt

N = 10
theta = np.linspace(0.0,2*np.pi,N,endpoint=False)
radii = 10*np.random.rand(N)
width = np.pi / 2 * np.random.rand(N)

ax = plt.subplot(111,projection='polar')

bars = ax.bar(theta,radii,width=width,bottom=0.0)
for r ,bar in zip(radii,bars):
    bar.set_facecolor(plt.cm.viridis(r/10.))
    bar.set_alpha(0.5)
plt.show()
</code></pre>

<h3 id="_2">面对对象绘制散点图</h3>
<pre><code class="python">import numpy as np
import matplotlib.pyplot as plt

fig , ax = plt.subplots()
ax.plot(10*np.random.randn(100),10*np.random.randn(100),'*')
ax.set_title('Simple scatter')
plt.show()
</code></pre>

<h3 id="_3">引力波的绘制</h3>

  <br>
    

  <div class="row wm-article-nav-buttons" role="navigation" aria-label="navigation">
    
    <div class="wm-article-nav pull-right">
      <a href="9.数据分析/3.Pandas库的基本使用/" class="btn btn-xs btn-default pull-right">
        Next
        <i class="fa fa-chevron-right" aria-hidden="true"></i>
      </a>
      <a href="9.数据分析/3.Pandas库的基本使用/" class="btn btn-xs btn-link">
        pandas库
      </a>
    </div>
    
    <div class="wm-article-nav">
      <a href="9.数据分析/1.numpy模块/" class="btn btn-xs btn-default pull-left">
        <i class="fa fa-chevron-left" aria-hidden="true"></i>
        Previous</a><a href="9.数据分析/1.numpy模块/" class="btn btn-xs btn-link">
        numpy模块
      </a>
    </div>
    
  </div>

    <br>
</div>

<footer class="col-md-12 wm-page-content">
      <p>
        <a href="https://github.com/haoqihan/learning/edit/master/docs/9.数据分析/2.matplotlib库.md"><i class="fa fa-github"></i>
Edit on GitHub</a>
      </p>
  <p>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a> using <a href="https://github.com/gristlabs/mkdocs-windmill">Windmill</a> theme by Grist Labs.</p>
</footer>

</body>
</html>